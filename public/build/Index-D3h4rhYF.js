import{r,j as e,M as T,a as A}from"./app-DlvoDJJo.js";import{A as E}from"./AdminLayout-LRVHqC77.js";import{B as l}from"./button-g7U9L8Cx.js";import{I as B}from"./input-pDD4vCSl.js";import{B as C,T as I,a as D,b as c,c as g,d as H,e as t,A as M}from"./Breadcrumb-CPWcmSEU.js";import"./user-CmaB7S3S.js";import"./createLucideIcon-Cvfh0g26.js";import"./chevron-left-DiZTRhl0.js";import"./users-DTMo15q8.js";import"./chevron-right-DuWMSwET.js";function K(){const[d,m]=r.useState([]),[f,h]=r.useState(!0),[o,N]=r.useState(""),[n,u]=r.useState({current_page:1,per_page:10,total:0,last_page:1}),[p,S]=r.useState("name"),[x,j]=r.useState("asc"),b=async()=>{try{h(!0);const s=await A.get("/api/v1/suppliers",{params:{search:o,page:n.current_page,per_page:n.per_page,sort_field:p,sort_direction:x}});s.data&&(m(s.data.data),u({current_page:s.data.current_page,per_page:s.data.per_page,total:s.data.total,last_page:s.data.last_page}))}catch(s){console.error("Error fetching suppliers:",s),m([])}finally{h(!1)}};r.useEffect(()=>{const s=setTimeout(()=>{b()},300);return()=>clearTimeout(s)},[o,n.current_page,p,x]);const _=s=>{p===s?j(x==="asc"?"desc":"asc"):(S(s),j("asc"))},v=[{label:"Suppliers",href:"/admin/suppliers"}],w=()=>{const s=[];for(let a=1;a<=n.last_page;a++)s.push(e.jsx(l,{variant:n.current_page===a?"default":"outline",className:"w-10 h-10",onClick:()=>u(y=>({...y,current_page:a})),children:a},a));return s},i=({field:s,children:a})=>e.jsx(g,{className:"cursor-pointer",onClick:()=>_(s),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:a}),e.jsx(M,{className:"w-4 h-4"})]})});return e.jsxs(E,{children:[e.jsx(T,{title:"Suppliers Management"}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsx(C,{items:v}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Suppliers"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(B,{type:"text",placeholder:"Search suppliers...",value:o,onChange:s=>N(s.target.value),className:"w-64"}),e.jsx(l,{children:"Add New Supplier"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs(I,{children:[e.jsx(D,{children:e.jsxs(c,{children:[e.jsx(i,{field:"name",children:"Name"}),e.jsx(i,{field:"contact_name",children:"Contact Name"}),e.jsx(i,{field:"email",children:"Email"}),e.jsx(i,{field:"phone",children:"Phone"}),e.jsx(i,{field:"address",children:"Address"}),e.jsx(g,{children:"Actions"})]})}),e.jsx(H,{children:f?e.jsx(c,{children:e.jsx(t,{colSpan:6,className:"text-center py-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})})})}):d.length===0?e.jsx(c,{children:e.jsx(t,{colSpan:6,className:"text-center py-4 text-gray-500",children:"No suppliers found"})}):d.map(s=>e.jsxs(c,{children:[e.jsx(t,{children:s.name}),e.jsx(t,{children:s.contact_name}),e.jsx(t,{children:s.email}),e.jsx(t,{children:s.phone}),e.jsx(t,{children:s.address}),e.jsx(t,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"outline",children:"Edit"}),e.jsx(l,{variant:"destructive",children:"Delete"})]})})]},s.id))})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",d.length," of ",n.total," results"]}),e.jsx("div",{className:"flex gap-2",children:w()})]})]})]})]})}export{K as default};
